{"version":3,"file":"static/js/980.f1b39f60.chunk.js","mappings":"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","sources":["app/posts/wcPost.js"],"sourcesContent":["import React, { useState, useEffect, useRef } from 'react';\n//import { useOutletContext } from 'react-router-dom';\nimport { useImportScript, useImportStylesheet } from '../fucnForApp.js';\nimport { useDispatch } from 'react-redux';\n//import Redux action\nimport { setPageTitle } from '../../features/imgStateSlice';\n\n//app wrap\nconst WCPostFullArticle = () => {\n\t//const outletContextProps = useOutletContext();\n\t//create ref for get codeBlock fo higlight by prism\n\tconst codeBlock_1 = useRef();\n\tconst codeBlock_2 = useRef();\n\tconst initialCode = `\n    const foo = 'foo'; \n    const bar = 'bar';\n    console.log(foo + bar);\n  `.trim();\n\tconst [flaskAppCode, setFlaskAppCode] = useState(initialCode);\n\tconst [wsgiAppCode, setWsgiAppCode] = useState(initialCode);\n\tconst [scriptsLoaded, setScriptsLoaded] = useState(false);\n\n\t//import pirsm CSS from CDN\n\tuseImportStylesheet(\n\t\t'https://cdnjs.cloudflare.com/ajax/libs/prism/1.27.0/themes/prism-okaidia.min.css',\n\t\t'sha512-mIs9kKbaw6JZFfSuo+MovjU+Ntggfoj8RwAmJbVXQ5mkAX5LlgETQEweFPI18humSPHymTb5iikEOKWF7I8ncQ==',\n\t\t'anonymous',\n\t\t'no-referrer',\n\t);\n\t//import pirsm-lineNumber-jsPlugin CSS from CDN\n\tuseImportStylesheet(\n\t\t'https://cdnjs.cloudflare.com/ajax/libs/prism/1.27.0/plugins/line-numbers/prism-line-numbers.min.css',\n\t\t'sha512-cbQXwDFK7lj2Fqfkuxbo5iD1dSbLlJGXGpfTDqbggqjHJeyzx88I3rfwjS38WJag/ihH7lzuGlGHpDBymLirZQ==',\n\t\t'anonymous',\n\t\t'no-referrer',\n\t);\n\n\tconst arrPrismJsSrc = [\n\t\t'https://cdnjs.cloudflare.com/ajax/libs/prism/1.27.0/components/prism-core.min.js',\n\t\t'https://cdnjs.cloudflare.com/ajax/libs/prism/1.27.0/plugins/autoloader/prism-autoloader.min.js',\n\t\t'https://cdnjs.cloudflare.com/ajax/libs/prism/1.27.0/plugins/line-numbers/prism-line-numbers.min.js',\n\t];\n\tconst arrSHA512Sums = [\n\t\t'sha512-LCKPTo0gtJ74zCNMbWw04ltmujpzSR4oW+fgN+Y1YclhM5ZrHCZQAJE4quEodcI/G122sRhSGU2BsSRUZ2Gu3w==',\n\t\t'sha512-GP4x8UWxWyh4BMbyJGOGneiTbkrWEF5izsVJByzVLodP8CuJH/n936+yQDMJJrOPUHLgyPbLiGw2rXmdvGdXHA==',\n\t\t'sha512-dubtf8xMHSQlExGRQ5R7toxHLgSDZ0K7AunqPWHXmJQ8XyVIG19S1T95gBxlAeGOK02P4Da2RTnQz0Za0H0ebQ==',\n\t];\n\n\t//import pirsmJS from CDN\n\tuseImportScript(arrPrismJsSrc, arrSHA512Sums, setScriptsLoaded);\n\n\t//fetch App.py code from git\n\tfetch('https://raw.githubusercontent.com/NeoBliz1/t-msg-bot/master/app.py')\n\t\t.then((response) => response.text())\n\t\t.then((data) => setFlaskAppCode(data));\n\n\t//fetch wsgi.py code from git\n\tfetch('https://raw.githubusercontent.com/NeoBliz1/t-msg-bot/master/wsgi.py')\n\t\t.then((response) => response.text())\n\t\t.then((data) => setWsgiAppCode(data));\n\n\t//if scriptsLoaded or flaskAppCode have changed useEffect executed\n\tuseEffect(() => {\n\t\t//console.log(`scriptsLoaded is ${scriptsLoaded}`)\n\t\tif (scriptsLoaded) {\n\t\t\t//console.log(typeof window.Prism !== 'undefined')\n\t\t\t//console.log(typeof window.Prism.plugins.autoloader !== 'undefined')\n\t\t\t//console.log(typeof window.Prism.plugins.lineNumbers !== 'undefined')\n\t\t\t//console.log('highlight')\n\t\t\twindow.Prism.highlightElement(codeBlock_1.current);\n\t\t\twindow.Prism.highlightElement(codeBlock_2.current);\n\t\t}\n\t\t//console.log(window.Prism)\n\t\t//if prismjs core and plugin line numbers have executed then start code highlight\n\t}, [scriptsLoaded, flaskAppCode]);\n\n\tconst dispatch = useDispatch();\n\tconst pageTitle =\n\t\t\"Website chat with messages via telegram, easy peasy. My minds before I've started dive into.\";\n\t//dispatch page title\n\tuseEffect(() => {\n\t\tdispatch(setPageTitle(pageTitle));\n\t}, []);\n\treturn (\n\t\t<div className=\"d-flex justify-content-center\">\n\t\t\t<div className=\"m-2 col-10 col-sm-9 col-lg-8 col-xxl-6\">\n\t\t\t\t<h4 className=\"h4\">\n\t\t\t\t\tWebsite chat with messages via telegram, easy peasy. My minds before\n\t\t\t\t\tI've started dive into.\n\t\t\t\t</h4>\n\t\t\t\t<div className=\"overflow-hidden position-relative postImgContainer\">\n\t\t\t\t\t{/************************************************************\n            header image \n            ***************************************************************/}\n\t\t\t\t\t<img\n\t\t\t\t\t\tsrc=\"//live.staticflickr.com/6133/5940816324_14dc1e5197_b.jpg\"\n\t\t\t\t\t\tclassName=\"postImg position-absolute top-50 start-50 translate-middle\"\n\t\t\t\t\t\talt=\"The easy way is hard enough\"\n\t\t\t\t\t/>\n\t\t\t\t</div>\n\t\t\t\t<div className=\"d-flex justify-content-center linkToAuthor\">\n\t\t\t\t\t<a\n\t\t\t\t\t\thref=\"https://flic.kr/p/a3YeHE\"\n\t\t\t\t\t\ttarget=\"_blank\"\n\t\t\t\t\t\trel=\"noreferrer\"\n\t\t\t\t\t\tclassName=\"me-1 text-secondary\">\n\t\t\t\t\t\tPhoto: Nicol√°s Boullosa\n\t\t\t\t\t</a>\n\t\t\t\t\t<a\n\t\t\t\t\t\thref=\"https://creativecommons.org/licenses/by/2.0/\"\n\t\t\t\t\t\ttarget=\"_blank\"\n\t\t\t\t\t\trel=\"noreferrer\"\n\t\t\t\t\t\tclassName=\"text-secondary\">\n\t\t\t\t\t\t(CC BY 2.0)\n\t\t\t\t\t</a>\n\t\t\t\t</div>\n\t\t\t\t<div>\n\t\t\t\t\t<p>\n\t\t\t\t\t\tFirst of all I've researched some telegram chat apps which already\n\t\t\t\t\t\texisted. Those either demanded payment either was not suitable\n\t\t\t\t\t\tformat for my website. So I've thought: \"It will be easy to create\n\t\t\t\t\t\tapp like this, also it will be useful experience\".\n\t\t\t\t\t\t<a\n\t\t\t\t\t\t\tclassName=\"mx-1\"\n\t\t\t\t\t\t\ttarget=\"_blank\"\n\t\t\t\t\t\t\trel=\"noreferrer\"\n\t\t\t\t\t\t\thref=\"https://neobliz1.github.io/\">\n\t\t\t\t\t\t\tFront-end\n\t\t\t\t\t\t</a>\n\t\t\t\t\t\tpart written on\n\t\t\t\t\t\t<a\n\t\t\t\t\t\t\tclassName=\"mx-1\"\n\t\t\t\t\t\t\ttarget=\"_blank\"\n\t\t\t\t\t\t\trel=\"noreferrer\"\n\t\t\t\t\t\t\thref=\"https://jqueryui.com/dialog/\">\n\t\t\t\t\t\t\tJquery UI\n\t\t\t\t\t\t</a>\n\t\t\t\t\t\tframework and\n\t\t\t\t\t\t<a\n\t\t\t\t\t\t\tclassName=\"mx-1\"\n\t\t\t\t\t\t\ttarget=\"_blank\"\n\t\t\t\t\t\t\trel=\"noreferrer\"\n\t\t\t\t\t\t\thref=\"https://jquery.com/\">\n\t\t\t\t\t\t\tJquery\n\t\t\t\t\t\t</a>\n\t\t\t\t\t\tLibrary. It has simple logic, while chat is open every 5 second it\n\t\t\t\t\t\tsends request for getting messages from the server.\n\t\t\t\t\t</p>\n\t\t\t\t\t<p>\n\t\t\t\t\t\tInstruction about server side based on the\n\t\t\t\t\t\t<a\n\t\t\t\t\t\t\tclassName=\"mx-1\"\n\t\t\t\t\t\t\ttarget=\"_blank\"\n\t\t\t\t\t\t\trel=\"noreferrer\"\n\t\t\t\t\t\t\thref=\"https://aliabdelaal.medium.com/telegram-bot-tutoria-using-python-and-flask-1fc634da9522\">\n\t\t\t\t\t\t\tAli's article.\n\t\t\t\t\t\t</a>{' '}\n\t\t\t\t\t\tAccording to the article I implemented that logic to my\n\t\t\t\t\t\t<a\n\t\t\t\t\t\t\tclassName=\"mx-1\"\n\t\t\t\t\t\t\ttarget=\"_blank\"\n\t\t\t\t\t\t\trel=\"noreferrer\"\n\t\t\t\t\t\t\thref=\"https://github.com/NeoBliz1/t-msg-bot/blob/master/app.py\">\n\t\t\t\t\t\t\tprogram.\n\t\t\t\t\t\t</a>\n\t\t\t\t\t\tCode written in python with Flask framework. Firstly I've started to\n\t\t\t\t\t\tanalyze how flask is working. I've read about\n\t\t\t\t\t\t<a\n\t\t\t\t\t\t\tclassName=\"mx-1\"\n\t\t\t\t\t\t\ttarget=\"_blank\"\n\t\t\t\t\t\t\trel=\"noreferrer\"\n\t\t\t\t\t\t\thref=\"https://flask.palletsprojects.com/en/2.0.x/quickstart/#routing\">\n\t\t\t\t\t\t\tflask\n\t\t\t\t\t\t</a>\n\t\t\t\t\t\troutes and\n\t\t\t\t\t\t<a\n\t\t\t\t\t\t\tclassName=\"mx-1\"\n\t\t\t\t\t\t\ttarget=\"_blank\"\n\t\t\t\t\t\t\trel=\"noreferrer\"\n\t\t\t\t\t\t\thref=\"https://docs.python-requests.org/en/latest/user/quickstart/#make-a-request\">\n\t\t\t\t\t\t\trequests\n\t\t\t\t\t\t</a>\n\t\t\t\t\t\tlibrary, it seemed to be enough.\n\t\t\t\t\t</p>\n\t\t\t\t\t<pre className=\"line-numbers\" style={{ maxHeight: '800px' }}>\n\t\t\t\t\t\t<code ref={codeBlock_1} className=\"language-python\">\n\t\t\t\t\t\t\t{flaskAppCode}\n\t\t\t\t\t\t</code>\n\t\t\t\t\t</pre>\n\t\t\t\t\t<p>\n\t\t\t\t\t\tInsofar as I was creating an app on the local machine, it was\n\t\t\t\t\t\trejecting every request that I was trying to send from local server\n\t\t\t\t\t\tto another port. So because of that I made a decision deploy app on\n\t\t\t\t\t\t<a\n\t\t\t\t\t\t\tclassName=\"mx-1\"\n\t\t\t\t\t\t\ttarget=\"_blank\"\n\t\t\t\t\t\t\trel=\"noreferrer\"\n\t\t\t\t\t\t\thref=\"https://www.heroku.com/\">\n\t\t\t\t\t\t\tHeroky Cloud service.\n\t\t\t\t\t\t</a>\n\t\t\t\t\t\tConsidering Ali's article it seemed to be a good idea. Heroku is\n\t\t\t\t\t\tquite convenient and simple for newbies, in additional it's free for\n\t\t\t\t\t\tpet projects. So I've read the\n\t\t\t\t\t\t<a\n\t\t\t\t\t\t\tclassName=\"mx-1\"\n\t\t\t\t\t\t\ttarget=\"_blank\"\n\t\t\t\t\t\t\trel=\"noreferrer\"\n\t\t\t\t\t\t\thref=\"https://devcenter.heroku.com/articles/getting-started-with-python\">\n\t\t\t\t\t\t\tmanual\n\t\t\t\t\t\t</a>\n\t\t\t\t\t\thow deployed the app, then I installed a Heroku local app on my PC\n\t\t\t\t\t\tvia Ubuntu terminal.\n\t\t\t\t\t</p>\n\t\t\t\t\t<p>\n\t\t\t\t\t\tAfter deploying, it still was an error like 'Cross-Origin Request\n\t\t\t\t\t\tBlocked'. I read around some articles about CORS errors and I found\n\t\t\t\t\t\t<a\n\t\t\t\t\t\t\tclassName=\"mx-1\"\n\t\t\t\t\t\t\ttarget=\"_blank\"\n\t\t\t\t\t\t\trel=\"noreferrer\"\n\t\t\t\t\t\t\thref=\"https://flask-cors.readthedocs.io/en/latest/\">\n\t\t\t\t\t\t\tFlask extension\n\t\t\t\t\t\t</a>\n\t\t\t\t\t\tfor handling Cross Origin Resource Sharing (CORS). Flask_cors made\n\t\t\t\t\t\tcross-origin AJAX possible. So I added Flask-CORS to my app, after\n\t\t\t\t\t\tthat requests finally reached the server. Heroku is convenient\n\t\t\t\t\t\tservice for pet projects, but it doesn't have possibility to set\n\t\t\t\t\t\tfree SSL certificate (I've tried sertificate from Cloudflare).\n\t\t\t\t\t</p>\n\t\t\t\t\t<p>\n\t\t\t\t\t\tTelegram\n\t\t\t\t\t\t<a\n\t\t\t\t\t\t\tclassName=\"mx-1\"\n\t\t\t\t\t\t\thref=\"https://core.telegram.org/bots/webhooks#the-short-version\"\n\t\t\t\t\t\t\ttarget=\"_blank\"\n\t\t\t\t\t\t\trel=\"noreferrer\">\n\t\t\t\t\t\t\twebhook\n\t\t\t\t\t\t</a>\n\t\t\t\t\t\tit's a useful feature which allows to get a response message from\n\t\t\t\t\t\ttelegram server in the same moment as it sends to telegram bot from\n\t\t\t\t\t\tdefinite user. But it demands\n\t\t\t\t\t\t<a\n\t\t\t\t\t\t\tclassName=\"mx-1\"\n\t\t\t\t\t\t\thref=\"https://core.telegram.org/bots/webhooks#ssl-needs-a-certificate\"\n\t\t\t\t\t\t\ttarget=\"_blank\"\n\t\t\t\t\t\t\trel=\"noreferrer\">\n\t\t\t\t\t\t\tSSL\n\t\t\t\t\t\t</a>\n\t\t\t\t\t\t. Spent some time reading about SSL certificates, I've found\n\t\t\t\t\t\tpossibility to get a free SSL certificate from Cloudflare. So I made\n\t\t\t\t\t\tthe decision to rent a cheap Ubuntu server and set up my new\n\t\t\t\t\t\tapplication there. For server tuning I used\n\t\t\t\t\t\t<a\n\t\t\t\t\t\t\tclassName=\"mx-1\"\n\t\t\t\t\t\t\thref=\"https://www.digitalocean.com/community/tutorials/how-to-serve-flask-applications-with-gunicorn-and-nginx-on-ubuntu-20-04\"\n\t\t\t\t\t\t\ttarget=\"_blank\"\n\t\t\t\t\t\t\trel=\"noreferrer\">\n\t\t\t\t\t\t\tDigitalocean guide\n\t\t\t\t\t\t</a>\n\t\t\t\t\t\t.\n\t\t\t\t\t</p>\n\t\t\t\t\t<pre className=\"line-numbers\" style={{ maxHeight: '800px' }}>\n\t\t\t\t\t\t<code ref={codeBlock_2} className=\"language-python\">\n\t\t\t\t\t\t\t{wsgiAppCode}\n\t\t\t\t\t\t</code>\n\t\t\t\t\t</pre>\n\t\t\t\t</div>\n\t\t\t</div>\n\t\t</div>\n\t);\n};\n\nexport default WCPostFullArticle;\n"],"names":["codeBlock_1","useRef","codeBlock_2","initialCode","trim","useState","flaskAppCode","setFlaskAppCode","wsgiAppCode","setWsgiAppCode","scriptsLoaded","setScriptsLoaded","useImportStylesheet","useImportScript","fetch","then","response","text","data","useEffect","window","Prism","highlightElement","current","dispatch","useDispatch","setPageTitle","className","src","alt","href","target","rel","style","maxHeight","ref"],"sourceRoot":""}